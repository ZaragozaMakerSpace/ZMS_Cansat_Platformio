; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = pro8MHzatmega328

[env:pro8MHzatmega328]
platform = atmelavr
board = pro8MHzatmega328
framework = arduino
test_ignore = test_bmp, test_imu, test_cansat
lib_deps = 
	SPI
	Wire
	adafruit/Adafruit BMP280 Library@^2.6.8
	adafruit/Adafruit MPU6050@^2.2.6
	mikem/RadioHead@^1.120
	sstaub/Ticker@^4.4.0
	adafruit/Adafruit Unified Sensor@^1.1.14
	adafruit/Adafruit BusIO@^1.16.2

# RAM:   [===       ]  28.9% (used 592 bytes from 2048 bytes)
# Flash: [====      ]  44.8% (used 13772 bytes from 30720 bytes)

[env:test_adaimu]
platform = atmelavr
board = pro8MHzatmega328
framework = arduino
src_filter = +<src_adaimu/*> +<test/test_imu/test_ada/*>
build_flags = -DADA_IMU
lib_deps = 
	SPI
	Wire
	adafruit/Adafruit MPU6050@^2.2.6
	adafruit/Adafruit BusIO
	adafruit/Adafruit Unified Sensor

# RAM:   [===       ]  28.3% (used 580 bytes from 2048 bytes)
# Flash: [======    ]  55.1% (used 16922 bytes from 30720 bytes)

[env:test_imu]
platform = atmelavr
board = pro8MHzatmega328
framework = arduino
src_filter = +<src_imu/*> +<test/test_imu/test_imu/*>
build_flags = -DIMU -DUNIT_TEST
lib_deps = 
	Wire
	https://github.com/jrowberg/i2cdevlib.git#master
	jrowberg/I2Cdevlib-MPU6050@^1.0.0

# RAM:   [===       ]  31.3% (used 642 bytes from 2048 bytes)
# Flash: [===       ]  31.6% (used 9710 bytes from 30720 bytes)

[env:test_imulight]
platform = atmelavr
board = pro8MHzatmega328
framework = arduino
src_filter = +<src_imulight/> +<test/test_imu/test_imulight/>
build_flags = -DIMULIGHT -DUNIT_TEST
lib_deps = 
	Wire
	https://github.com/rfetick/MPU6050_light.git

[env:pro16MHzatmega328]
platform = atmelavr
board = pro16MHzatmega328
framework = arduino
test_ignore = test_bmp, test_imu, test_cansat
lib_deps = 
	SPI
	Wire
	adafruit/Adafruit BMP280 Library@^2.6.8
	adafruit/Adafruit MPU6050@^2.2.6
	mikem/RadioHead@^1.120
	sstaub/Ticker@^4.4.0
	adafruit/Adafruit Unified Sensor@^1.1.14
	adafruit/Adafruit BusIO@^1.16.2

[env:miniatmega328]
platform = atmelavr
board = miniatmega328
framework = arduino
lib_deps = 
	SPI
	Wire
	adafruit/Adafruit BMP280 Library@^2.6.8
	adafruit/Adafruit MPU6050@^2.2.6
	mikem/RadioHead@^1.120
	sstaub/Ticker@^4.4.0
	adafruit/Adafruit Unified Sensor@^1.1.14
	adafruit/Adafruit BusIO@^1.16.2

[env:native]
platform = native
build_flags = -Itest/mocks
lib_deps = 
	throwtheswitch/Unity
	adafruit/Adafruit Unified Sensor@^1.1.14
	adafruit/Adafruit BusIO@^1.16.2
